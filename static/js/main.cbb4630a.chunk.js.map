{"version":3,"sources":["model/status.ts","components/Divisor/index.ts","components/SearchBar/style.ts","components/SearchBar/index.tsx","api/transaction.ts","components/TransactionTable/style.ts","components/TransactionTable/index.tsx","pages/TransactionSearch/style.ts","pages/TransactionSearch/index.tsx","components/StatusBar/index.tsx","components/ModalContainer/index.ts","pages/TransactionDetails/style.ts","pages/TransactionDetails/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["TransactionStatus","Divisor","styled","hr","SearchBarInput","input","SearchBar","props","onChange","placeholder","baseURL","process","getTransactionStatusName","status","empty","TransactionTableContainer","table","TableColumn","td","TableHeaderColumn","AmountColumn","div","TableHeader","DetailsLink","id","children","location","useLocation","pathname","to","state","background","TableItem","transaction","title","description","amount","date","TransactionTable","transactions","map","t","i","LogoContainer","TransactionSearchContainer","TransactionSearchPage","useState","term","setTerm","setTransactions","useEffect","Promise","resolve","reject","axios","get","then","response","data","sort","a","b","orderByDate","catch","e","target","value","StatusBar","fadein","keyframes","BackdropContainer","ModalContainer","TransactionTitle","h1","TransactionSubtitle","h2","TransactionText","AggregatedContainer","TransactionDetailsContainer","TransactionDetailsPage","history","useHistory","useParams","setTransaction","getTransactionDetails","downHandler","useCallback","key","stopPropagation","goBack","window","addEventListener","removeEventListener","from","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.cbb4630a.chunk.js","sourcesContent":["\nenum TransactionStatus {\n    created = \"Solicitada\" as any,\n    processing = \"Processando\" as any,\n    processed = \"Concluída\" as any,\n    empty = \"\" as any\n}\n\nexport const getTransactionStatusName = (status: string) => {\n    const key = ((status as unknown) as TransactionStatus);\n    if (key) {\n        return TransactionStatus[key];\n    }\n\n    return TransactionStatus.empty;\n}","import styled from 'styled-components';\n\nexport const Divisor = styled.hr`\n    color: #DDDDDD;\n    width: fill-available;\n`;","import styled from 'styled-components';\n\nexport const SearchBarInput = styled.input`\n    width: 200px;\n    border-radius: 3px;\n`;","import { SearchBarInput } from './style';\n\ninterface SearchBarProps {\n    onChange: (e: React.ChangeEvent<HTMLInputElement>) => void,\n}\n\nexport const SearchBar = (props: SearchBarProps) => {\n    const { onChange } = props;\n    return (\n        <SearchBarInput placeholder=\"Pesquise pelo titulo\" onChange={onChange} />\n    );\n}","import axios from 'axios';\nimport { Transaction } from '../model/transaction';\n\ninterface TransactionListResponse {\n    data: Transaction[]\n}\n\ninterface TransactionDetailsResponse {\n    data: Transaction\n}\n\nconst baseURL = process.env.REACT_APP_API_URL;\n\nconst orderByDate = (transactions: Transaction[]) => {\n    return transactions.sort((a, b) => a.date < b.date ? -1 : 1);\n};\n\nexport const getTransactionList = () => new Promise<Transaction[]>((resolve, reject) => {\n    axios.get(`${baseURL}/transactions`).then((response: TransactionListResponse) => {\n        const transactions = response.data;\n        resolve(orderByDate(transactions));\n    }).catch(() => {\n        reject([])\n    });\n});\n\nexport const getTransactionDetails = (id: string) => new Promise<Transaction>((resolve, reject) => {\n    axios.get(`${baseURL}/transactions/${id}`).then((response: TransactionDetailsResponse) => {\n        resolve(response.data);\n    }).catch(() => {\n        reject(null);\n    });\n});","import styled from \"styled-components\";\n\nexport const TransactionTableContainer = styled.table`\n    border: 1px solid #ECECEC;\n    margin: 32px;\n`;\n\nexport const TableColumn = styled.td`\n    font-size: 12px;\n    padding: 2px 8px;\n\n    @media(min-width: 1024px) {\n        font-size: 16px;\n        padding: 3px 10px;\n    }\n`;\n\nexport const TableHeaderColumn = styled(TableColumn)`\n    font-weight: bold;\n`;\n\nexport const AmountColumn = styled.div`\n    display: flex;\n    justify-content: space-between;\n`;","import { Link } from 'react-router-dom';\nimport { useLocation } from \"react-router-dom\";\nimport { Transaction } from '../../model/transaction';\nimport { LocationState } from '../../model/location';\nimport { getTransactionStatusName } from '../../model/status';\nimport {\n    TableColumn,\n    AmountColumn,\n    TableHeaderColumn,\n    TransactionTableContainer\n} from './style';\n\ninterface TransactionTableProps {\n    transactions: Transaction[]\n}\n\ninterface TransactionItemProps {\n    transaction: Transaction\n}\n\ninterface DetailsLinkProps {\n    id: string,\n    children: React.ReactNode\n}\n\nconst TableHeader = () => {\n    return (\n        <tr>\n            <TableHeaderColumn>Título</TableHeaderColumn>\n            <TableHeaderColumn>Descrição</TableHeaderColumn>\n            <TableHeaderColumn>Status</TableHeaderColumn>\n            <TableHeaderColumn>Valor</TableHeaderColumn>\n            <TableHeaderColumn>Data</TableHeaderColumn>\n        </tr>\n    );\n};\n\nconst DetailsLink = (props: DetailsLinkProps) => {\n    const { id, children } = props;\n    const location = useLocation<LocationState>();\n    const pathname = `/transaction/${id}`;\n\n    return (\n        <Link to={{ pathname, state: { background: location } }}>\n            {children}\n        </Link>\n    );\n};\n\nconst TableItem = (props: TransactionItemProps) => {\n    const { transaction } = props;\n    return (\n        <tr>\n            <TableColumn>\n                <DetailsLink id={transaction.id}>{transaction.title}</DetailsLink>\n            </TableColumn>\n            <TableColumn>{transaction.description}</TableColumn>\n            <TableColumn>{getTransactionStatusName(transaction.status)}</TableColumn>\n            <TableColumn>\n                <AmountColumn>\n                    <span>R$</span> <span>{transaction.amount}</span>\n                </AmountColumn>\n            </TableColumn>\n            <TableColumn>\n                {transaction.date}\n            </TableColumn>\n        </tr>\n    );\n};\n\nexport const TransactionTable = (props: TransactionTableProps) => {\n    const { transactions } = props;\n    return (\n        <TransactionTableContainer>\n            <thead>\n                <TableHeader />\n            </thead>\n            <tbody>\n                { transactions.map((t, i) => <TableItem key={i} transaction={t} />) }\n            </tbody>\n        </TransactionTableContainer>\n    );\n};","import styled from 'styled-components';\n\nexport const LogoContainer = styled.div`\n    height: 80px;\n`;\n\nexport const TransactionSearchContainer = styled.div`\n    width: 80%;\n    margin: auto;\n    display: flex;\n    flex-flow: column;\n    align-items: center;\n`;","import { useEffect, useState } from 'react';\nimport { Divisor } from '../../components/Divisor';\nimport { SearchBar } from '../../components/SearchBar';\nimport { Transaction } from '../../model/transaction';\nimport { getTransactionList } from '../../api/transaction';\nimport { TransactionTable } from '../../components/TransactionTable';\n\nimport {\n    LogoContainer,\n    TransactionSearchContainer\n} from './style';\n\nconst TransactionSearchPage = () => {\n    const [ term, setTerm ] = useState<string>(\"\");\n    const [ transactions, setTransactions ] = useState<Transaction[]>([]);\n\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setTerm(e.target.value);\n    };\n\n    useEffect(() => {\n        getTransactionList().then((response: Transaction[]) => {\n            setTransactions(response);\n        });\n    }, []);\n\n    return (\n        <div>\n            <div>{term}</div>\n            <LogoContainer />\n            <Divisor />\n\n            <TransactionSearchContainer>\n                <SearchBar onChange={onChange}/>\n                <TransactionTable transactions={transactions} />\n            </TransactionSearchContainer>\n        </div>\n    );\n}\n\nexport default TransactionSearchPage;","import { getTransactionStatusName } from '../../model/status';\n\ninterface StatusBarProps {\n    status: string\n}\n\nexport const StatusBar = (props: StatusBarProps) => {\n    const { status } = props;\n    return (\n        <div>\n            {getTransactionStatusName(status)}\n        </div>\n    );\n};","import styled, { keyframes } from \"styled-components\"\n\nconst fadein = keyframes`\n    0% {opacity: 0;}\n    100% {opacity: 1;}\n`;\n\nconst BackdropContainer = styled.div`\n    top: 0;\n    left: 0;\n    position: fixed;\n\n    width: 100vw;\n    height: 100vh;\n\n    z-index: 1;\n`;\n\nexport const ModalContainer = styled(BackdropContainer)`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    background: rgba(0, 0, 0, 0.8);\n    animation: ${fadein} .5s linear;\n`;","import styled from 'styled-components';\n\nexport const TransactionTitle = styled.h1`\n    font-size: 32px;\n    text-align: center;\n    font-weight: bold;\n    width: fill-available;\n\n    @media(min-width: 1024px) {\n        font-size: 48px;\n    }\n`;\n\nexport const TransactionSubtitle = styled.h2`\n    font-size: 20px;\n    font-weight: normal;\n    margin-bottom: 0px;\n    width: fill-available;\n\n    @media(min-width: 1024px) {\n        font-size: 24px;\n    }\n`;\n\nexport const TransactionText = styled.div`\n    font-size: 14px;\n    width: fill-available;\n\n    @media(min-width: 1024px) {\n        font-size: 16px;\n    }\n`;\n\nexport const AggregatedContainer = styled.div`\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-around;\n`;\n\nexport const TransactionDetailsContainer = styled.div`\n    position: fixed;\n\n    top: 60px;\n    left: 12px;\n    right: 12px;\n    bottom: 16px;\n\n    padding: 0 56px;\n    background: white;\n    border-radius: 16px;\n\n    @media(min-width: 1024px) {\n        top: 20%;\n        left: 20%;\n        right: 20%;\n        bottom: 20%;\n\n        padding: 0 80px;\n    }\n`;","import { useEffect, useState, useCallback } from 'react';\nimport { useHistory, useParams } from 'react-router';\nimport { StatusBar } from '../../components/StatusBar';\nimport { Transaction } from '../../model/transaction';\nimport { ModalContainer } from '../../components/ModalContainer';\nimport { getTransactionDetails } from '../../api/transaction';\n\nimport { Divisor } from '../../components/Divisor';\nimport {\n    TransactionText,\n    TransactionTitle,\n    TransactionSubtitle,\n    AggregatedContainer,\n    TransactionDetailsContainer\n} from './style';\n\ninterface TransactionDetailsProps {\n    id: string\n}\n\nconst TransactionDetailsPage = () => {\n    const history = useHistory();\n    const { id } = useParams<TransactionDetailsProps>();\n    const [ transaction, setTransaction ] = useState<Transaction | null>(null);\n\n    useEffect(() => {\n        getTransactionDetails(id).then((response: Transaction) => {\n            setTransaction(response);\n        });\n    }, [id]);\n\n    const downHandler = useCallback((e) => {\n        if (e.key === \"Backspace\" || e.key === \"Escape\") {\n            e.stopPropagation();\n            history.goBack();\n        }\n    }, [history]);\n\n    useEffect(() => {\n        window.addEventListener(\"keydown\", downHandler);\n        return () => {\n            window.removeEventListener(\"keydown\", downHandler);\n        }\n    }, [downHandler]);\n\n    if (!transaction) {\n        // TODO how to handle this\n        return (<div>NULO</div>);\n    }\n\n    const { title, status, amount, from, to } = transaction;\n    return (\n        <ModalContainer>\n            <TransactionDetailsContainer>\n                <TransactionTitle>{title}</TransactionTitle>\n\n                <StatusBar status={status} />\n\n                <TransactionSubtitle>Valor</TransactionSubtitle>\n                <Divisor />\n\n                <TransactionText>R$ {amount}</TransactionText>\n\n                <AggregatedContainer>\n                    <TransactionSubtitle>Transferido de</TransactionSubtitle>\n                    <TransactionSubtitle>Para</TransactionSubtitle>\n                </AggregatedContainer>\n                <Divisor />\n\n                <AggregatedContainer>\n                    <TransactionText>{from}</TransactionText>\n                    <TransactionText>{to}</TransactionText>\n                </AggregatedContainer>\n            </TransactionDetailsContainer>\n        </ModalContainer>\n    );\n}\n\nexport default TransactionDetailsPage;","import './App.css';\nimport TransactionSearchPage from './pages/TransactionSearch';\nimport TransactionDetailsPage from './pages/TransactionDetails';\nimport { LocationState } from './model/location';\nimport {\n  Switch,\n  Route,\n  useLocation\n} from \"react-router-dom\";\n\nconst App = () => {\n  const location = useLocation<LocationState>();\n  const background = location.state && location.state.background;\n\n  return (\n    <>\n      <Switch location={background || location}>\n        <Route exact path='/' component={TransactionSearchPage} />\n      </Switch>\n\n      { background && <Route path='/transaction/:id' component={TransactionDetailsPage} />}\n    </>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename={process.env.PUBLIC_URL}>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}